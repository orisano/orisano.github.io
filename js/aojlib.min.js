var AOJLib,__bind=function(a,b){return function(){return a.apply(b,arguments)}};AOJLib=function(){function a(){this._parseSolve=__bind(this._parseSolve,this),this._parseStatus=__bind(this._parseStatus,this),this._reqAPI=__bind(this._reqAPI,this),this._getParsed=__bind(this._getParsed,this),this.getStatusList=__bind(this.getStatusList,this),this.getStatus=__bind(this.getStatus,this),this.getSolvesList=__bind(this.getSolvesList,this),this.getSolves=__bind(this.getSolves,this),this.getSolveList=__bind(this.getSolveList,this),this.getSolve=__bind(this.getSolve,this)}return a.BASE_URL="http://judge.u-aizu.ac.jp/onlinejudge/webservice/",a.prototype.constractor=function(){},a.prototype.getSolve=function(a){return this._reqAPI("user",{id:a},this._parseSolve)},a.prototype.getSolveList=function(a){return this._getPromiseList(a,this.getSolve)},a.prototype.getSolves=function(a){return this._reqAPI("user",{id:a},this._parseSolves)},a.prototype.getSolvesList=function(a){return this._getPromiseList(a,this.getSolves)},a.prototype.getStatus=function(a){return this._reqAPI("status_log",{user_id:a},this._parseStatus)},a.prototype.getStatusList=function(a){return this._getPromiseList(a,this.getStatus)},a.prototype._getPromiseList=function(a,b){var c,d;return c=function(){var c,e,f;for(f=[],c=0,e=a.length;e>c;c++)d=a[c],f.push(b(d));return f}(),$.when.apply($,c)},a.prototype._getXML=function(a,b){return $.ajax({type:"GET",url:a,data:b,dataType:"xml"})},a.prototype._getParsed=function(a,b,c){var d;return d=$.Deferred(),this._getXML(a,b).done(function(a){return d.resolve(c(a))}).fail(function(){return d.reject()}),d.promise()},a.prototype._reqAPI=function(b,c,d){return null==c&&(c={}),null==d&&(d=$.noop),this._getParsed(a.BASE_URL+b,c,d)},a.prototype._parseXML=function(a,b){var c,d,e,f,g;a=$(a),c={};for(f in b)d=b[f],g=f.split(">"),e=g[g.length-1],c[e]=d(a.find(f).text());return c},a.prototype._parseStatus=function(a){var b,c,d,e,f;for(c=$(a).find("status_list>status"),f=[],d=0,e=c.length;e>d;d++)b=c[d],f.push(this._parseXML(b,{"status>run_id":String,"status>problem_id":String,"status>language":String,"status>cputime":parseInt,"status>memory":parseInt,"status>code_size":parseInt,"status>user_id":String,"status>status":String,"status>submission_date":parseInt,"status>submission_date_str":String}));return f},a.prototype._parseSolve=function(a){return a=a.substr(0,a.indexOf("<solved_list>"))+"</user>",this._parseXML(a,{"user>id":String,"user>status>solved":parseInt})},a.prototype._parseSolves=function(a){var b,c,d,e,f;for(e=$(a).find("user>solved_list>problem>id"),f=[],c=0,d=e.length;d>c;c++)b=e[c],f.push($(b).text());return f},a}();